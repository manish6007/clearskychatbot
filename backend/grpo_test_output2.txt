python : Traceback 
(most recent call 
last):
At line:1 char:1
+ python 
tests/test_grpo.py 
2>&1 | Out-File 
-FilePath 
grpo_test_output2 ...
+ ~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~
    + CategoryInfo   
           : NotSpe  
  cified: (Traceba   
 ck (most recent     
call last)::Stri    
ng) [], RemoteEx    
ception
    + FullyQualified 
   ErrorId : Native  
  CommandError
 
  File "D:\antigravit
y\clearskychatbot\bac
kend\tests\test_grpo.
py", line 345, in 
run_all_tests
    print("ALL GRPO 
TESTS PASSED! 
\u2705")
  File "C:\python312\
Lib\encodings\cp1252.
py", line 19, in 
encode
    return codecs.cha
rmap_encode(input,sel
f.errors,encoding_tab
le)[0]
           ^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^
^^^
UnicodeEncodeError: 
'charmap' codec 
can't encode 
character '\u2705' 
in position 23: 
character maps to 
<undefined>
======================================================================
GRPO Implementation Test Suite
Testing POLICY-LAYER learning (no LLM retraining)
======================================================================

Testing GRPO config...
  [OK] Default config created
  [OK] Custom config created
[PASS] GRPO config tests passed!

Testing GRPO models...
  [OK] GRPOCompletion created
  [OK] GRPOSample created
  [OK] GRPOStep created
  [OK] GRPOTrainingState updated
  [OK] GRPOVisualizationData created
[PASS] GRPO models tests passed!

Testing reward functions...
  [OK] SQL validity reward: 1.000
  [OK] Invalid SQL reward: -1.000
  [OK] Execution reward: 1.000
  [OK] Execution error reward: -0.600
  [OK] Result quality reward: 0.400
  [OK] Format quality reward: 1.000, patterns: ['type_casting', 'null_handling', 'column_aliasing']
  [OK] Total reward: 0.3137
[PASS] Reward function tests passed!

Testing advantage calculation...
  [OK] Advantages: ['1.162', '0.387', '-0.387', '-1.162']
  [OK] Mean advantage ~= 0: 0.00000
  [OK] Unscaled advantages: ['0.750', '0.250', '-0.250', '-0.750']
[PASS] Advantage calculation tests passed!

Testing GRPO training step...
  [OK] Training step completed
  [OK] Generated 4 completions
  [OK] Advantages computed: ['0.482', '1.126', '-1.126', '-0.482']
  [OK] Training state updated
  [OK] Training summary: {'total_steps': 1, 'total_samples': 1, 'total_completions': 4, 'avg_reward': 0.3347, 'best_completion_rate': '5.0%', 'hints_created': 2, 'hints_updated': 3, 'started_at': '2025-12-22T16:07:09.245993', 'last_updated': '2025-12-22T16:07:09.280485'}
[PASS] GRPO training step tests passed!

Testing policy layer updates...
  Initial hints: 0
  Final hints: 2
  Updates: {'hints_created': 0, 'hints_updated': 2, 'patterns_reinforced': ['GROUP BY', 'SUM'], 'patterns_penalized': []}
  [OK] Policy hints were created/updated
  [OK] LLM was NOT retrained (policy-layer only)
[PASS] Policy layer update tests passed!

Testing visualization data...
  [OK] Visualization data created
  [OK] Advantage explanation:
Completion 1: +0.20 (above average, REINFORCE)
Completion 2: +0.80 (above average, REINFORCE)
[PASS] Visualization data tests passed!

======================================================================

[FAIL] ERROR: 'charmap' codec can't encode character '\u2705' in position 23: character maps to <undefined>
